{"version":3,"file":"spa-router.min.js","sources":["spa-router.js"],"names":["factory","define","cmd","require","exports","module","window","onchange","onChangeEvent","listeners","Listener","i","l","length","findNode","tree","path","params","parts","split","target","found","parent","len","realCurrentValue","matcher","RegExp","replace","matches","match","k","slice","j","_children","value","extendNode","RNode","children","createRouteTree","root","routes","isFunction","callbacks","isArray","hasOwnProperty","fns","dfs","ci","ri","newParams","p","apply","searchRouteTree","toString","Object","prototype","hasOwn","this","obj","call","extend","srcList","arguments","src","q","TypeError","before","after","_parent","nprtt","push","utils","concat","document","location","history","init","options","add","fn","destroy","Router","splice","setHash","s","hash","onhashchange","defaults","mode","notFound","always","on","routeTree","configure","rprtt","self","handler","newURL","url","dispatch","charAt","mount","route","handlers","n","map","redirect","parseQueryString","queryString","queryArr","param","objectLike","_param","key","join","index","currentValue","test","newCurrentValue","len2","uri","queryIndex","indexOf","req","query","result"],"mappings":"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"}