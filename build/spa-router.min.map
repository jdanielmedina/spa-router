{"version":3,"file":"spa-router.min.js","sources":["spa-router.js"],"names":["factory","define","cmd","require","exports","module","window","onchange","onChangeEvent","listeners","Listener","i","l","length","findNode","tree","path","params","parts","split","target","found","parent","len","realCurrentValue","matcher","RegExp","replace","matches","match","k","slice","j","_children","value","extendNode","RNode","children","createRouteTree","root","routes","isFunction","callbacks","isArray","hasOwnProperty","fns","dfs","ci","ri","newParams","p","apply","searchRouteTree","toString","Object","prototype","obj","call","TypeError","this","before","after","_parent","nprtt","push","utils","concat","dloc","document","location","add","fn","destroy","Router","splice","setHash","s","hash","onhashchange","routeTree","options","configure","rprtt","init","self","handler","newURL","url","dispatch","charAt","mount","on","route","handlers","n","notFound","map","redirect","parseQueryString","queryString","queryArr","param","objectLike","_param","key","join","index","currentValue","test","newCurrentValue","len2","uri","queryIndex","indexOf","query","req","result"],"mappings":"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"}