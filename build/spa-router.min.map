{"version":3,"file":"spa-router.min.js","sources":["spa-router.js"],"names":["factory","define","cmd","require","exports","module","window","onchange","onChangeEvent","listeners","Listener","i","l","length","findNode","tree","path","params","parts","split","target","found","parent","len","realCurrentValue","matcher","k","replace","$1","$2","$3","j","_children","value","extendNode","RNode","children","createRouteTree","root","routes","isFunction","callbacks","isArray","hasOwnProperty","fns","slice","dfs","ci","ri","newParams","p","RegExp","matches","match","apply","searchRouteTree","toString","Object","prototype","decodeC","decodeURIComponent","encodeC","encodeURIComponent","hasOwn","this","obj","call","extend","srcList","arguments","src","q","queryHelper","parse","queryString","queryParts","query","key","val","undefined","push","stringify","keys","sort","len1","_parts","len2","join","TypeError","before","after","_parent","nprtt","concat","historySupport","document","location","history","init","mode","onpopstate","onhashchange","add","fn","setHash","s","hash","setHashHistory","pushState","title","defaults","notFound","always","on","recurse","Router","routeTree","options","configure","rprtt","self","handler","url","newURL","pathname","search","substr","dispatch","charAt","mount","route","handlers","n","redirect","uri","queryIndex","indexOf","hashIndex","req","result","setRoute","once","off","remove","getRoute","hasRoute"],"mappings":"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"}