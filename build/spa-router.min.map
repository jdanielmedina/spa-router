{"version":3,"file":"spa-router.min.js","sources":["spa-router.js"],"names":["factory","define","cmd","require","exports","module","window","onchange","onChangeEvent","listeners","Listener","i","l","length","findNode","tree","path","params","parts","split","target","found","parent","len","realCurrentValue","matcher","RegExp","replace","matches","match","k","slice","j","_children","value","extendNode","RNode","children","createRouteTree","root","routes","isFunction","callbacks","isArray","hasOwnProperty","fns","dfs","ci","ri","newParams","p","apply","searchRouteTree","toString","Object","prototype","decodeC","decodeURIComponent","encodeC","encodeURIComponent","hasOwn","this","obj","call","extend","srcList","arguments","src","q","queryHelper","parse","queryString","trim","queryParts","query","key","val","undefined","Array","push","stringify","keys","sort","map","val2","join","TypeError","before","after","_parent","nprtt","utils","concat","document","location","history","init","mode","add","fn","setHash","s","hash","setHashHistory","pushState","title","onpopstate","onhashchange","defaults","notFound","always","on","Router","routeTree","options","configure","rprtt","self","handler","newURL","url","dispatch","charAt","mount","route","handlers","n","redirect","uri","queryIndex","indexOf","req","result","setRoute"],"mappings":"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"}