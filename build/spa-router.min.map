{"version":3,"file":"spa-router.min.js","sources":["spa-router.js"],"names":["factory","define","cmd","require","exports","module","window","onchange","onChangeEvent","listeners","Listener","i","l","length","findNode","tree","path","params","parts","split","target","found","parent","len","realCurrentValue","matcher","RegExp","replace","matches","match","k","slice","j","_children","value","extendNode","RNode","children","createRouteTree","routes","utils","isFunction","isArray","callbacks","hasOwnProperty","fns","currentNode","searchRouteTree","local","apply","hasOwn","p","this","obj","Object","prototype","toString","call","isPlainObject","TypeError","before","after","_parent","push","concat","dloc","document","location","add","fn","destroy","Router","splice","setHash","s","hash","onhashchange","root","routeTree","options","configure","init","self","handler","newURL","url","dispatch","charAt","mount","on","route","off","notFound","map","redirect","parseQueryString","queryString","queryArr","param","objectLike","_param","key","join","index","currentValue","test","newCurrentValue","len2","uri","queryIndex","indexOf","query","req","result"],"mappings":"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"}