{"version":3,"file":"spa-router.min.js","sources":["spa-router.js"],"names":["factory","define","cmd","require","exports","module","window","onchange","onChangeEvent","listeners","Listener","i","l","length","findNode","tree","path","params","parts","split","target","found","parent","len","realCurrentValue","matcher","RegExp","replace","matches","match","k","slice","j","_children","value","extendNode","RNode","children","createRouteTree","routes","isFunction","callbacks","isArray","hasOwnProperty","fns","currentNode","searchRouteTree","local","apply","toString","Object","prototype","obj","call","TypeError","this","before","after","_parent","nprtt","push","utils","concat","dloc","document","location","add","fn","destroy","Router","splice","setHash","s","hash","onhashchange","root","routeTree","options","configure","rprtt","init","self","handler","newURL","url","dispatch","charAt","mount","on","route","node","off","notFound","map","redirect","parseQueryString","queryString","queryArr","param","objectLike","_param","key","join","index","currentValue","test","newCurrentValue","len2","uri","queryIndex","indexOf","query","req","result"],"mappings":"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"}