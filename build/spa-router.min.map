{"version":3,"file":"spa-router.min.js","sources":["spa-router.js"],"names":["factory","define","cmd","require","exports","module","window","onchange","onChangeEvent","listeners","Listener","i","l","length","findNode","tree","path","params","parts","split","target","found","parent","len","realCurrentValue","matcher","RegExp","replace","matches","match","k","slice","j","_children","value","extendNode","RNode","children","createRouteTree","root","routes","isFunction","callbacks","isArray","hasOwnProperty","fns","dfs","ci","ri","newParams","p","apply","searchRouteTree","toString","Object","prototype","decodeC","decodeURIComponent","encodeC","encodeURIComponent","hasOwn","this","obj","call","extend","srcList","arguments","src","q","queryHelper","parse","queryString","queryParts","query","key","val","undefined","push","stringify","keys","sort","len1","_parts","len2","join","TypeError","before","after","_parent","nprtt","utils","concat","historySupport","document","location","history","init","mode","onpopstate","onhashchange","add","fn","setHash","s","hash","setHashHistory","pushState","title","defaults","notFound","always","on","Router","routeTree","options","configure","rprtt","self","handler","url","newURL","pathname","search","substr","dispatch","charAt","mount","route","handlers","n","map","redirect","uri","queryIndex","indexOf","hashIndex","req","result","setRoute"],"mappings":"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"}