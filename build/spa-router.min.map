{"version":3,"file":"spa-router.min.js","sources":["spa-router.js"],"names":["factory","define","cmd","require","exports","module","window","onchange","onChangeEvent","listeners","Listener","i","l","length","findNode","tree","path","params","parts","split","target","found","parent","len","realCurrentValue","matcher","RegExp","replace","matches","match","k","slice","j","_children","value","extendNode","RNode","children","createRouteTree","root","routes","isFunction","callbacks","isArray","hasOwnProperty","fns","dfs","ci","ri","newParams","p","apply","searchRouteTree","toString","Object","prototype","decodeC","decodeURIComponent","encodeC","encodeURIComponent","hasOwn","this","obj","call","extend","srcList","arguments","src","q","queryHelper","parse","queryString","trim","queryParts","query","key","val","undefined","push","stringify","keys","sort","len1","_parts","len2","join","TypeError","before","after","_parent","nprtt","utils","concat","historySupport","document","location","history","init","mode","onpopstate","onhashchange","add","fn","setHash","s","hash","setHashHistory","pushState","title","defaults","notFound","always","on","Router","routeTree","options","configure","rprtt","self","handler","url","newURL","pathname","search","substr","dispatch","charAt","mount","route","handlers","n","map","redirect","uri","queryIndex","indexOf","hashIndex","req","result","setRoute"],"mappings":"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"}